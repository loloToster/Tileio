@use "../abstracts/colors" as c;
@use "../abstracts/mixins" as m;
@use "../abstracts/constants" as const;

$loading-items: 5;

.grid {
    position: relative;

    min-width: 1400px;
    min-height: 700px;

    &__loading {
        @include m.flexCenter();

        position: absolute;
        display: none;

        gap: 5px;
        z-index: 1;
        width: 100%;
        height: 100%;

        background-color: transparentize(c.$cell-color, .3);
        border-radius: const.$cell-border-radius;

        &.active {
            display: flex;
        }

        @keyframes loading {
            25% {
                transform: scaleY(2);
            }

            50% {
                transform: scaleY(1);
            }
        }

        &__item {
            width: 10px;
            height: 30px;

            background-color: c.$blue;
            animation: loading 1000ms ease-in-out infinite;
        }

        @for $i from 1 through $loading-items {
            &__item:nth-child(#{$i}) {
                animation-delay: 100ms * ($i - 1);
            }
        }
    }

    &__border {
        box-sizing: border-box;
        position: absolute;

        width: 100%;
        height: 100%;

        border: const.$grid-margin gray dashed;
        border-radius: const.$cell-border-radius;
        opacity: 0;
    }
}

.grid-stack-item-content {
    background-color: var(--cell-color);
    border-radius: const.$cell-border-radius;
    overflow: hidden !important;

    &:hover {
        filter: opacity(70%);
        transform: scale(1.03);
        cursor: pointer;
    }

    &__link {
        @include m.flexCenter();

        width: 100%;
        height: 100%;
    }

    &__icon {
        width: 5rem;
        height: 5rem;

        &.white {
            filter: invert(1);
        }
    }

    .editing-cover {
        position: absolute;

        top: 0;
        left: 0;
        width: 0;
        height: 0;
    }

    iframe {
        width: 100%;
        height: 100%;

        border: none;
    }
}

.editing .editing-cover {
    width: 100%;
    height: 100%;
}

.dynamic-cell .grid-stack-item-content:hover {
    filter: none;
    transform: none;
    cursor: default;
}
